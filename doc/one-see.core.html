<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>one-see.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">one-see</span> <span class="project-version">version 0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="one-see.core.html"><div class="inner"><span>one-see.core</span></div></a></li></ul><ul class="index-link"><li class="depth-1"><a href="https://github.com/blosavio/one-see">Project Home</a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="one-see.core.html#var-look-up"><div class="inner"><span>look-up</span></div></a></li><li class="depth-1"><a href="one-see.core.html#var-LookUp"><div class="inner"><span>LookUp</span></div></a></li><li class="depth-2 branch"><a href="one-see.core.html#var-expansion"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>expansion</span></div></a></li><li class="depth-2 branch"><a href="one-see.core.html#var-get-row"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-row</span></div></a></li><li class="depth-2 branch"><a href="one-see.core.html#var-get-val"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-val</span></div></a></li><li class="depth-2 branch"><a href="one-see.core.html#var-size"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>size</span></div></a></li><li class="depth-2"><a href="one-see.core.html#var-table"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">one-see.core</h1><div class="doc"><div class="markdown"><p>A lightweight utility for establishing and querying symmetric one-to-one relationships.</p>
</div></div><div class="public anchor" id="var-look-up"><h3>look-up</h3><div class="usage"><code>(look-up s)</code><code>(look-up s -&gt;rec)</code></div><div class="doc"><div class="markdown"><p>Returns a <a href="one-see.core.html#var-LookUp">LookUp</a> instance which provides efficient look ups of symmetric one-to-one relationships.</p>
<p>The 1-arity invocation accepts a sequential <code>s</code> of hash-maps. The 2-arity invocation (preferred) accepts a sequential <code>s</code> of sequentials containing record field values followed by a record constructor <code>-&gt;rec</code>.</p>
<p>Throws an exception:</p>
<ol>
<li>If key/fields don’t exactly match, or</li>
<li>If a value is not unique within its column.</li>
</ol>
<p>Example, 1-arity consuming a sequential of hash-maps:</p>
<pre><code class="language-clojure">(look-up [{:name "rose" :color :red :id 101}
          {:name "hibiscus" :color :orange :id 102}
          {:name "sunflower" :color :sunflower :id 103}])
</code></pre>
<p>Example, 2-arity consuming a sequential of sequentials containing field values plus a record constructor (preferred):</p>
<pre><code class="language-clojure">(defrecord Flower [flower color id])

(look-up [["rose" :red 101]
          ["hibiscus" :orange 102]
          ["sunflower" :yellow 103]]
         -&gt;Flower)
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/one-see/blob/master/src/one_see/core.clj#L152">view source</a></div></div><div class="public anchor" id="var-LookUp"><h3>LookUp</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Methods for arranging symmetric one-to-one relationships and performing efficient look ups. Use <a href="one-see.core.html#var-look-up">look-up</a> to create an instance.</p>
<p>Sample data for the following examples:</p>
<pre><code class="language-clojure">(defrecord Flower [name color id])

(def flowers (look-up [["rose" :red 101]
                       ["hibiscus" :orange 102]
                       ["sunflower" :yellow 103]]
                      -&gt;Flower))
</code></pre>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-expansion"><h3>expansion</h3><div class="usage"><code>(expansion this)</code></div><div class="doc"><div class="markdown"><p>Returns a hash-map of the expanded key-vals which enable efficient look ups.</p>
<p>Example:</p>
<pre><code class="language-clojure">(expansion flowers)
</code></pre>
</div></div></div><div class="public anchor" id="var-get-row"><h3>get-row</h3><div class="usage"><code>(get-row this col val)</code><code>(get-row this col val not-found)</code></div><div class="doc"><div class="markdown"><p>Returns the row containing value <code>val</code> located in column <code>col</code>.</p>
<p>Example query: <em>Return the row from <code>flowers</code> whose <code>:name</code> is <code>"rose"</code>.</em></p>
<pre><code class="language-clojure">(get-row flowers :name "rose")
;; =&gt; #one_see.Flower{:name "rose", :color :red, :id 101}
</code></pre>
</div></div></div><div class="public anchor" id="var-get-val"><h3>get-val</h3><div class="usage"><code>(get-val this col-1 val-1 col-2)</code><code>(get-val this col-1 val-1 col-2 not-found)</code></div><div class="doc"><div class="markdown"><p>Efficiently finds the row whose <code>val-1</code> is located in column <code>col-1</code>, then returns <code>val-2</code> located in <code>col-2</code> of that row. If not found, returns <code>nil</code> or <code>not-found</code>.</p>
<p><code>get-val</code> provides the <code>invoke</code> implementation of the <code>clojure.lang.IFn</code> interface, so a <code>LookUp</code> instance in the function position delegates to <code>get-val</code>.</p>
<p>Example query: <em>Return the value of <code>:id</code> of the row whose <code>:name</code> is <code>"rose"</code>?</em></p>
<p>Example, explicit invocation:</p>
<pre><code class="language-clojure">(get-val flowers :name "rose" :id)
;; =&gt; 101
</code></pre>
<p>Example, implicit invocation:</p>
<pre><code class="language-clojure">(flowers :name "rose" :id)
;; =&gt; 101
</code></pre>
</div></div></div><div class="public anchor" id="var-size"><h3>size</h3><div class="usage"><code>(size this)</code></div><div class="doc"><div class="markdown"><p>Returns an array-map of a <code>LookUp</code> instance’s row and column counts.</p>
<p>Example:</p>
<pre><code class="language-clojure">(size flowers)
;; =&gt; {:n-rows 3, :n-cols 3}
</code></pre>
</div></div></div><div class="public anchor" id="var-table"><h3>table</h3><div class="usage"><code>(table this)</code></div><div class="doc"><div class="markdown"><p>Returns the original data in tabular form, as provided to <a href="one-see.core.html#var-look-up">look-up</a>.</p>
<p>Example:</p>
<pre><code class="language-clojure">(table flowers)
</code></pre>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/blosavio/one-see/blob/master/src/one_see/core.clj#L42">view source</a></div></div></div></body></html>